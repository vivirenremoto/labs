<!DOCTYPE html>
<html lang="en">

<head>
    <title>Convertir texto a audio</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <style>
        textarea,
        input,
        select {
            width: 100%;
        }
    </style>

    <h1>Convertir texto a audio</h1>

    <p>Esta herramineta hace uso del traductor de google.</p>

    <p>Si usas puntos en cada línea puedes hacer que la locución sea más lenta.</p>

    <p>Si con un texto muy largo falla, prueba a juntar varios parrafos y luego juntarlos con esta <a
            href="https://clideo.com/es/merge-audio" target="_blank">herramienta online</a>.</p>

    <p>
        texto
        <textarea id="text" cols="30" rows="10"></textarea>
    </p>

    <p>
        idioma
        <select id="lang">
            <option value="es" selected="selected">español</option>
            <option value="en">inglés</option>
        </select>
    </p>
    <p>
        velocidad
        <select id="speed">
            <option value="1" selected="selected">normal</option>
            <option value="0.24">lento</option>
        </select>
    </p>
    <p>
        <button id="generate">Generar audio MP3</button>
    </p>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(function () {
            $('#generate').click(function () {

                var text = $('#text').val();
                var encoded_text = text;
                var length = text.length;
                var speed = $('#speed').val();
                var lang = $('#lang').val();

                encoded_text = encoded_text.replace(/\n/g, ' ');
                encoded_text = encodeURI(encoded_text);

                var url = 'https://translate.google.com/translate_tts?ie=UTF-8&q=' + encoded_text + '&tl=' + lang + '&ttsspeed=' + speed + '&client=tw-ob';

                window.open(url);

            });
        });
    </script>


</body>

</html>